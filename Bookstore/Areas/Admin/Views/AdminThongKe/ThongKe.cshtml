@{
    ViewData["Title"] = "Thống kê";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}
<div class="row">
    <div class="col-md-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="media align-items-center">
                    <div class="avatar avatar-icon avatar-lg avatar-gold">
                        <i class="anticon anticon-profile"></i>
                    </div>
                    <div class="m-l-15">
                        <h2 class="m-b-0">@ViewBag.CountOrder</h2>
                        <p class="m-b-0 text-muted">Đơn hàng</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="media align-items-center">
                    <div class="avatar avatar-icon avatar-lg avatar-cyan">
                        <i class="anticon anticon-line-chart"></i>
                    </div>
                    <div class="m-l-15">
                        <h2 class="m-b-0">@ViewBag.CountBook</h2>
                        <p class="m-b-0 text-muted">Sản phẩm</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="media align-items-center">
                    <div class="avatar avatar-icon avatar-lg avatar-purple">
                        <i class="anticon anticon-user"></i>
                    </div>
                    <div class="m-l-15">
                        <h2 class="m-b-0">@ViewBag.CountCustomer</h2>
                        <p class="m-b-0 text-muted">Khách hàng</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="media align-items-center">
                    <div class="avatar avatar-icon avatar-lg avatar-blue">
                        <i class="anticon anticon-dollar"></i>
                    </div>
                    <div class="m-l-15">
                        <h2 class="m-b-0">@ViewBag.gialai.ToString("#,##0") VNĐ</h2>
                        <p class="m-b-0 text-muted">Danh thu</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-7">
        <div class="card">
            <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
        </div>
        <div class="card">
            <canvas id="myChart1" style="width:100%;max-width:600px"></canvas>
        </div>
    </div>
    <div class="col-5">
        <table class="table" style="border:2px solid black; margin-top:10px">
            <thead>
                <tr class="table-info">
                    <th>
                        Mã sản phẩm
                    </th>
                    <th>
                        Tên sản phẩm
                    </th>
                    <th>
                        SL
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ViewBag.Quantity)
                {
                    <tr>
                        <td>
                            @item.MaSP
                        </td>
                        <td>
                            @item.TenSP
                        </td>
                        <td>
                            @item.SoLuong
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script>
    var xValues1 = ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"];
    var yValues1 = [@ViewBag.t1, @ViewBag.t2, @ViewBag.t3, @ViewBag.t4, @ViewBag.t5, @ViewBag.t6, @ViewBag.t7, @ViewBag.t8, @ViewBag.t9, @ViewBag.t10, @ViewBag.t11, @ViewBag.t12];
    var barColors = ["#00FFFF", "#FAEBD7", "#7FFFD4", "#000000", "#0000FF", "#8A2BE2", "#A52A2A", "#5F9EA0", "#7FFF00", "#6495ED", "#DC143C", "##006400"];

    new Chart("myChart1", {
        type: "bar",
        data: {
            labels: xValues1,
            datasets: [{
                backgroundColor: barColors,
                data: yValues1
            }]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "Thống kê đơn bán theo tháng trong năm"
            }
        }
    });


    var xValues = ["Kinh doanh", "Văn học Việt Nam", "Văn học thế giới", "Trinh thám", "Kỹ năng sống", "Kinh dị", "MANGA - COMIC", "LIGHT NOVEL", "Tâm lý"];
    var yValues = [@ViewBag.loai1, @ViewBag.loai2, @ViewBag.loai3, @ViewBag.loai4, @ViewBag.loai5, @ViewBag.loai6, @ViewBag.loai7, @ViewBag.loai8, @ViewBag.loai9];
    var barColors = [
        "#b91d47",
        "#00aba9",
        "#2b5797",
        "#e8c3b9",
        "#1e7145",
        "#0099FF",
        "#999900",
        "#FF9900",
        "#33CCFF"
    ];

    new Chart("myChart", {
        type: "pie",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            title: {
                display: true,
                text: "Thống kê sản phẩm theo loại"
            }
        }
    });
</script>
